[php]
; ===========================================
; PHP Configuration for Development
; Bitrix Docker Environment
; ===========================================

; Error handling - show all errors in development
display_errors                      = On
display_startup_errors              = On
error_reporting                     = E_ALL
log_errors                          = On
error_log                           = "/var/log/php/error.log"

; Security
cgi.fix_pathinfo                    = 0
expose_php                          = Off
enable_dl                           = Off

; Encoding
default_charset                     = "utf-8"
mbstring.internal_encoding          = "utf-8"

; Timezone (overridden by entrypoint)
date.timezone                       = "Europe/Moscow"

; Session
session.save_path                   = "/var/www/session"
session.gc_maxlifetime              = 86400
session.use_trans_sid               = 0

; Bitrix-specific settings
short_open_tag                      = On
allow_url_fopen                     = On
mbstring.func_overload              = 0

; Limits for Bitrix
max_input_vars                      = 10000
max_file_uploads                    = 100
max_execution_time                  = 900
max_input_time                      = 600
post_max_size                       = 1024M
upload_max_filesize                 = 1024M
memory_limit                        = 512M

; PCRE optimization
pcre.backtrack_limit                = 1000000
pcre.recursion_limit                = 14000

; Realpath cache
realpath_cache_size                 = 4096k
realpath_cache_ttl                  = 600

; Mail (msmtp)
sendmail_path                       = /usr/bin/msmtp -t -i
